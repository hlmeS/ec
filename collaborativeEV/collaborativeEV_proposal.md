# Network Coordinated Evolution of Energy-Optimal Proportional Control Parameters


## Problem statement
The [LEZETI hybrid solar pv powered mini-split air conditioner](http://www.greenpath-tech.com/lezeti-hybrid-solar-ac/about/) is an exemplary use case of decentralized renewable energy generation and usage as it directly takes DC power from PV panels to power its variable frequency drive (VFD) compressor motor. When solar energy is not sufficient, grid-side AC power is utilized. While the LEZETi was designed for typical air conditioning applications with a lower operating temperature bound of 62 F, a new cooling apparatus controller was developed by UH students in partnership with the Hawaii-based LEZETi distributor to overcome this lower temperature bound and thus enable a vast number of new, energy-efficient and solar-integrated cooling applications. One such new application is the cooling of farm produce in decomissioned shipping containers equipped with two LEZETi air conditioners and PV Panels atop. <br>
The developed cooling apparatus generates a PWM signal to replace the air conditioner's embedded thermistor, and thus "trick" the air conditioner's control system to operate the compressor at desired levels and achieve desired temperatures. Using a proportional control mechanism for generating the PWM signal, it was found that the optimal proportional gain varies based on desired temperature, across LEZETi units, based on environmental conditions (e.g. container size, outside temperature, container content), and based on desired cooling behaviors (e.g. fast settling time, low overshoot, low energy usage, etc.). <br>
Currently, controller tuning is performed by hand and takes multiple iterations, making scalable implementation of this application unfeasible. When tuned correctly however, the system is able to reduce energy usage by 80% when compared to the previously installed 5kW 3-phase induced AC refrigeration unit with similar environmental and operational parameters. (Based on pilot program at a diversified papaya farm on the North Shore.) <br>
The first objective is to evolve the cooling apparatus's optimal control parameters based on desired parameters, starting with a temperature setpoint under defined environmental conditions. In a second step, a network coordinated evolutionary approach is taken such that each controller is no longer evolving individually, but also takes other controllers' control parameters into consideration for coordinated optimization.


## Significance
Power grid systems are considered an integral part of modern society. Societal developments and the demand for distributed energy resources (DERs), such as photovoltaic systems (PV), are driving the evolution of the powergrid from a centralized and purely physical system to a decentralized, interconnected, and increasingly cyber-physical one.<br>
In the past, real time access to sensors and controls for equipment has been prohibitively expensive. Historical device data from aggregates of devices were generally not available and optimization is often on a one to one basis. With the advent of affordable network connected devices and controllers, and large capacity for data storage and processing, we are now able to implement more powerful control strategies for coordinated optimization. This project's energy application of evolutionary control optimization can thus aid in the development of new coordinated optimization methods for connected devices and controllers, and thereby address challenges for DER integration, an issues that is considered important at the [EvoEnergy 2018 conference](http://www.evostar.org/2018/cfp_evoenergy.php).


## Methodology

In the first mini-project of this course, a Python-based implementation for PID-control optimization of a simple mass-spring-damper mechanical system was developed. To achieve the first objective of this project, I will expand on that approach and adjust its implementation for the air conditioner control apparatus. Although an approximate transfer-function of the LEZETi unit was estimated from collected data, the evolutionary tuning will be tested on an actual testbed system. <br>
Once the EV shows efficacy for finding optimal control parameters for a single LEZETi unit, the second objective will be addressed. To do so, this project will build on [prior work on the use of graph databases for IoT device management](https://goo.gl/4FYJnq) to facilitate the network coordinated evolutionary tuning process. Each control apparatus represents a node in the graph database. Node parameters and node relationships determine the control parameters and envrionmental conditions of a node, such that collections of nodes with similar conditions are quickly identifiable. <br>
The evolutionary algorithm from the first objective will then be extended to also query the graph for similar nodes and integrate that information into its own evolutionary process. This graph query can be executed at each iteration of the ev process, such that query results will introduce new genotypes in the existing populations. Thus, the next generation of the population will be comprised of the fittest genotypes from the last population, as well as genotypes from other nodes in the graph database. It remains to be investigated how the genotypes' fitness can be evaluated efficiently in an "online"-learning approach because the dynamics of the air conditioner system only allow the testing of one genotype at a time.

## Related work

The application of evolutionary computation for controller tuning has been illustrated in literature, such as in [1] and [2]. Particle swarm optimization (PSO) has similarly been proposed with and without evolutionary components, [3] and [4] respectively. [3] seems very applicable to this project as it describes PSO for temperature control in HVAC systems; I'm working on getting a hold of the full article. [5] describes the automatic evolution of distributed controllers to configure sensor network operation, which will provide many insights applicable to this project, although the in [5] proposed discrete gene regularoy netwrok implementation seems out-of reach in a first implementation. Mentioned references, references therein, and other literature will be further explored in the beginning stages of this project.<br>
I have not come across the use of a graph database for device management and genotype querying so far; it appears this could be an interesting addition for this application.

## Goals and Future Work

1. Submit a short paper (8 pages with promising preliminary results) by November 1 to [EvoEnergy 2018](http://www.evostar.org/2018/cfp_evoenergy.php).
2. Submit project report at the end of the semester.
2. Obtain more rigorous results and evolve this project into a Master's thesis.

## References

1. A. Jayachitra and R. Vinodha, _Genetic Algorithm Based PID Controller Tuning Approach for Continuous Stirred Tank Reactor,‚Äù Advances in Artificial Intelligence_, vol. 2014, Article ID 791230, 8 pages, 2014. doi:10.1155/2014/791230
2. T. Newill, _Using an Evolutionary Opimization approach to tune a PID controlled robotic arm_. ScilabTEC Conference. (2015). Available online: https://goo.gl/NwDcNH
3. J. Zhang, K.Y. Zhang, (2012). _An Improved Particle Swarm Optimization Approach for Temperature Control in HVAC for the Purpose of Energy Saving_. Advanced Materials Research, 383-390, 4768-4774.
4. T. Eswaran, V. Suresh Kumar, _Particle swarm optimization (PSO)-based tuning technique for PI controller for management of a distributed static synchronous compensator (DSTATCOM) for improved dynamic response and power quality_, In Journal of Applied Research and Technology, Volume 15, Issue 2, 2017, Pages 173-189, ISSN 1665-6423, https://doi.org/10.1016/j.jart.2017.01.011.
5. A. Markham, N. Trigoni, (2011). _The Automatic Evolution of Distributed Controllers to Configure Sensor Network Operation_. The Computer Journal, 54(3), 421-438.
